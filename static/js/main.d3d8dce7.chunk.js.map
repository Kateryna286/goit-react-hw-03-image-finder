{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","keyWord","handleChange","event","currentTarget","name","value","setState","handleSubmit","preventDefault","trim","props","onSubmit","resetForm","alert","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","getId","Id","id","onClick","src","alt","Button","Modal","handleKeyDown","e","code","console","log","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","ImageGallery","images","loading","page","showModal","hundleButtonClick","prevState","formSubmitHandler","toggleModal","getInfoById","currentId","find","image","prevProps","setTimeout","axios","get","then","response","data","hits","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","imgById","map","webformatURL","user","color","height","width","length","largeImageURL","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d3d8dce7.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Searchbar.css';\n\nexport class Searchbar extends Component {\n  state = {\n    keyWord: '',\n  };\n\n  handleChange = event => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.keyWord.trim() === '') {\n      alert('Введите ключевое слово');\n      return;\n    }\n\n    this.props.onSubmit(this.state.keyWord);\n    this.resetForm();\n  };\n\n  resetForm = () => {\n    this.setState({\n      keyWord: '',\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <header className=\"Searchbar\">\n          <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              className=\"SearchForm-input\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              name=\"keyWord\"\n              value={this.state.keyWord}\n              onChange={this.handleChange}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport './ImageGalleryItem.css';\n\nclass ImageGalleryItem extends Component {\n  getId = event => {\n    const Id = event.currentTarget.id;\n    this.props.onClick(Id);\n  };\n\n  render() {\n    return (\n      <li id={this.props.id} className=\"ImageGalleryItem\" onClick={this.getId}>\n        <img\n          src={this.props.src}\n          alt={this.props.alt}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport './Button.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button onClick={onClick} type=\"button\" className=\"Button\">\n      Load more...\n    </button>\n  );\n}\n\nexport default Button;\n\n//||  prevState.page !== this.state.page\n","import React, { Component } from 'react';\nimport './Modal.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      console.log('Нажали ESC, нужно закрыть модалку');\n\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.src} alt={this.props.alt} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport './ImageGallery.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Loader from 'react-loader-spinner';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nexport default class ImageGallery extends Component {\n  state = {\n    images: [],\n    loading: false,\n    page: 1,\n    id: '',\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.keyWord !== this.props.keyWord) {\n      this.setState({\n        images: [],\n        loading: true,\n        page: 1,\n      });\n\n      setTimeout(() => {\n        axios\n          .get(\n            `https://pixabay.com/api/?q=${this.props.keyWord}&page=${this.state.page}&key=22564694-3177f5daba1f2572eee652a36&image_type=photo&orientation=horizontal&per_page=12`,\n          )\n          .then(response =>\n            this.setState({\n              images: [...response.data.hits],\n            }),\n          )\n          .finally(() => this.setState({ loading: false }));\n      }, 1000);\n    } else if (prevState.page !== this.state.page) {\n      setTimeout(() => {\n        axios\n          .get(\n            `https://pixabay.com/api/?q=${this.props.keyWord}&page=${this.state.page}&key=22564694-3177f5daba1f2572eee652a36&image_type=photo&orientation=horizontal&per_page=12`,\n          )\n          .then(response =>\n            this.setState({\n              images: [...prevState.images, ...response.data.hits],\n            }),\n          )\n          .finally(() => this.setState({ loading: false }));\n      }, 1000);\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  hundleButtonClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  formSubmitHandler = Id => {\n    this.setState({ id: Id });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  getInfoById = () => {\n    const currentId = +this.state.id;\n    const imgById = this.state.images.find(image => image.id === currentId);\n\n    return imgById;\n  };\n\n  render() {\n    const imgById = this.getInfoById();\n\n    return (\n      <div>\n        <ul className=\"ImageGallery\">\n          {this.state.images.map(image => (\n            <ImageGalleryItem\n              src={image.webformatURL}\n              alt={image.user}\n              key={image.id}\n              id={image.id}\n              onClick={this.formSubmitHandler}\n            />\n          ))}\n        </ul>\n\n        {this.state.loading && (\n          <Loader type=\"Oval\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        {this.state.images.length > 0 && (\n          <Button onClick={this.hundleButtonClick} />\n        )}\n        {this.state.showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            src={imgById.largeImageURL}\n            alt={imgById.id}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    keyWord: '',\n  };\n\n  formSubmitHandler = data => {\n    this.setState({ keyWord: data });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.formSubmitHandler} />\n        <ImageGallery keyWord={this.state.keyWord} />\n      </div>\n    );\n  }\n}\n\n//my key 22564694-3177f5daba1f2572eee652a36;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}