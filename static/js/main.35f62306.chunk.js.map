{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","keyWord","handleChange","event","currentTarget","name","value","setState","handleSubmit","preventDefault","onSubmit","props","trim","resetForm","alert","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","getId","id","onClick","src","alt","Button","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","ImageGallery","images","page","showModal","error","showButton","status","hundleButtonClick","prevState","formSubmitHandler","toggleModal","getInfoById","find","image","prevProps","axios","get","then","response","data","total","hits","smoothScroll","catch","scrollTo","top","document","documentElement","scrollHeight","behavior","imgById","color","height","width","map","webformatURL","user","largeImageURL","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.35f62306.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Searchbar.css';\n\nexport class Searchbar extends Component {\n  state = {\n    keyWord: '',\n  };\n\n  handleChange = event => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { keyWord } = this.state;\n    const { onSubmit } = this.props;\n\n    if (keyWord.trim() === '') {\n      alert('Введите ключевое слово');\n      return;\n    }\n\n    onSubmit(keyWord);\n    this.resetForm();\n  };\n\n  resetForm = () => {\n    this.setState({\n      keyWord: '',\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <header className=\"Searchbar\">\n          <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              className=\"SearchForm-input\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              name=\"keyWord\"\n              value={this.state.keyWord}\n              onChange={this.handleChange}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport './ImageGalleryItem.css';\n\nclass ImageGalleryItem extends Component {\n  getId = event => {\n    const id = +event.currentTarget.id;\n    this.props.onClick(id);\n  };\n\n  render() {\n    const { id, src, alt } = this.props;\n    return (\n      <li id={id} className=\"ImageGalleryItem\" onClick={this.getId}>\n        <img src={src} alt={alt} className=\"ImageGalleryItem-image\" />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport './Button.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button onClick={onClick} type=\"button\" className=\"Button\">\n      Load more...\n    </button>\n  );\n}\n\nexport default Button;\n","import React, { Component } from 'react';\nimport './Modal.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport './ImageGallery.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Loader from 'react-loader-spinner';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nexport default class ImageGallery extends Component {\n  state = {\n    images: null,\n    page: 1,\n    id: null,\n    showModal: false,\n    error: null,\n    showButton: false,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { keyWord } = this.props;\n    const { page } = this.state;\n\n    if (prevProps.keyWord !== keyWord) {\n      this.setState({\n        images: null,\n        page: 1,\n        status: 'pending',\n      });\n\n      axios\n        .get(\n          `https://pixabay.com/api/?q=${keyWord}&page=${page}&key=22564694-3177f5daba1f2572eee652a36&image_type=photo&orientation=horizontal&per_page=12`,\n        )\n        .then(response => {\n          if (response.data.total === 0) {\n            this.setState({\n              status: 'rejected',\n              error: `Картинок по поиску '${keyWord}' не обнаружено`,\n            });\n          } else {\n            if (response.data.total > 12) {\n              this.setState({\n                images: [...response.data.hits],\n                status: 'resolved',\n                showButton: true,\n              });\n            } else {\n              this.setState({\n                images: [...response.data.hits],\n                status: 'resolved',\n                showButton: false,\n              });\n            }\n          }\n        })\n        .then(this.smoothScroll)\n        .catch(error => this.setState({ error: 'error', status: 'rejected' }));\n    }\n\n    if (\n      prevState.page !== page &&\n      page !== 1 &&\n      prevProps.keyWord === keyWord\n    ) {\n      this.setState({\n        status: 'pending',\n      });\n      axios\n        .get(\n          `https://pixabay.com/api/?q=${keyWord}&page=${page}&key=22564694-3177f5daba1f2572eee652a36&image_type=photo&orientation=horizontal&per_page=12`,\n        )\n        .then(response =>\n          this.setState({\n            images: [...prevState.images, ...response.data.hits],\n            status: 'resolved',\n            // showButton: true,\n          }),\n        )\n        .then(this.smoothScroll)\n        .catch(error => this.setState({ error: 'error', status: 'rejected' }));\n    }\n  }\n\n  smoothScroll() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  hundleButtonClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  formSubmitHandler = id => {\n    this.setState({ id });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  getInfoById = () => {\n    const { images, id } = this.state;\n\n    if (images !== null) {\n      const imgById = images.find(image => image.id === id);\n      return imgById;\n    }\n  };\n\n  render() {\n    const imgById = this.getInfoById();\n    const { images, status, showModal, showButton } = this.state;\n\n    if (status === 'idle') {\n      return <div>Введите ключевое слово</div>;\n    }\n\n    if (status === 'pending') {\n      return <Loader type=\"Oval\" color=\"#00BFFF\" height={80} width={80} />;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <div>\n          <ul className=\"ImageGallery\">\n            {images.map(image => (\n              <ImageGalleryItem\n                src={image.webformatURL}\n                alt={image.user}\n                key={image.id}\n                id={image.id}\n                onClick={this.formSubmitHandler}\n              />\n            ))}\n          </ul>\n\n          {showButton && <Button onClick={this.hundleButtonClick} />}\n          {showModal && (\n            <Modal\n              onClose={this.toggleModal}\n              src={imgById.largeImageURL}\n              alt={imgById.id}\n            />\n          )}\n        </div>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <div>{this.state.error}</div>;\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    keyWord: '',\n  };\n\n  formSubmitHandler = data => {\n    this.setState({ keyWord: data });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.formSubmitHandler} />\n        <ImageGallery keyWord={this.state.keyWord} />\n      </div>\n    );\n  }\n}\n\n//my key 22564694-3177f5daba1f2572eee652a36;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}